# 字符串

## 替换字符串中的4字节UTF-8字符

4字节UTF-8字符，通常来说是emoji (😄 ❤️ 🐶)

某些场景下我们需要去掉字符串中的4字节字符（比如目标系统数据库使用了MySQL的utf8mb3编码）

```php
 $content = preg_replace('/[\xF0-\xF7].../s', '', $content);
```

这段代码的原理是，4字节UTF-8序列始终以字节`0xF0-0xF7`开头，`...`匹配的是任意三个字符，因此整个正则表达式能匹配到4字节UTF-8序列

> 疑问？什么时候.匹配一个字符，什么时候匹配一个字节


